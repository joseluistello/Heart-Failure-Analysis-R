---
title: "Heart-Failure"
author: "Jos√© Luis Tello"
date: "26/8/2021"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r}
library(tidyverse)
library(readr)
library(ggcorrplot)
```

### Limpieza de datos

```{r}
df <- read_csv("data/heart_failure.csv")
```

Checando valores perdidos

```{r}
sum(is.na(df))
```


Ahora vere que datos necesito transformar


```{r}
str(df)
```


Anemia, diabetes, high_blood, sexo, smoking y death_event deben ser factor

```{r}
df$anaemia <- as.factor(df$anaemia)
df$diabetes <- as.factor(df$diabetes)
df$high_blood_pressure <- as.factor(df$high_blood_pressure)
df$sex <- as.factor(df$sex)
df$smoking <- as.factor(df$smoking)
df$DEATH_EVENT <- as.factor(df$DEATH_EVENT)
```


```{r}
str(heartfa)
```

### Analisis de datos!


```{r}
df %>% 
  count(age,
        sort = TRUE,
        name = "Total")
```


```{r}
ggplot(df, aes(x = age)) +
  geom_density(fill = "indianred3") + 
  labs(title = "Participants por edad")
```



```{r}
ggplot(df, 
       aes(x = age, 
           fill = DEATH_EVENT)) +
  geom_histogram(alpha = 1,
                 color = "white",
                 bins = 20) +
  labs(title="Histograma de edades con evento de muerte",
       x="Edades",
       y="Total") +
  theme_classic()
```

```{r}
ggplot(df, 
       aes(x = ejection_fraction, 
           fill = DEATH_EVENT)) +
  geom_histogram(alpha = 1,
                 color = "white",
                 bins = 12) +
  labs (title="Porcentaje de sangre que abandona el corazon por bombeo",
        x="",
        y="Total") + 
  theme_classic()

```



### Modelaje de datos


